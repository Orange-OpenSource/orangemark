<!doctype html>
<html>
  <head>
  <title>Orange Test Results</title>
  <link rel="stylesheet" type="text/css" href="./resources/testharness.css">
  <style>
  body {
    background-color: white;
  }
  </style>
  </head>
  <body>
  <h1>Orange Browser Graphics Performance Test Suite</h1>
  <h2>Test Run Description</h2>
  <div id=summary></div>
  <h2>Test Run Results</h2>
  <div id=results>
  </div>
  </body>
  <script>
    var summary = document.getElementById('summary');
    var sumStr = "<ul><li>User-Agent: " + window.navigator.userAgent+"</li>";
    sumStr += "<li>Date: " + Date(); + "</li></ul>"
    summary.innerHTML = sumStr;
    var oLoaderFrame = window.parent.document.getElementById('loader');
    var results = oLoaderFrame.contentWindow.TestResults();
    var resStr = "<ul>";
    var passed = 0;
    var passedStr = "<ul>Passed Tests:";
    var failedStr = "<ul>Failed Tests:";
    var otherStr = "<ul>Skipped/Not run tests:";
    var failed = 0;
    for (var x=0;x<results.length;x++)
    {
        var li ="<li><a href='"+results[x].test+"'>[" + (x+1) + "] " + results[x].test + "</a>  "  + results[x].comment + "</li>";

        switch(results[x].log){
          case "Pass":
            passed++;
            passedStr+=li;
            break;
          case "Fail":
            failed++;
            failedStr+=li;
            break;
          default:
            otherStr+=li;
            break;
        }
    }
    passedStr += "</ul>";
    failedStr += "</ul>";
    otherStr += "</ul>";
    resStr+="<li>Passed: "+ passed + "/" + results.length; + "</li>";
    resStr+="<li>Failed: "+ failed + "/" + results.length; + "</li>";
    resStr+="<li>Skipped/Not run: "+ (results.length - passed - failed)+ "/" + results.length; + "</li>";
    resStr +="</ul>";
    if(failed>0) resStr +="<div id='details'>" + failedStr + "</div>";
    document.getElementById('results').innerHTML = resStr;
  </script>
</html>
